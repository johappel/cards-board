<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Embedding Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        .video-container {
            width: 100%;
            max-width: 560px;
            margin: 1rem 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        iframe {
            width: 100%;
            height: 315px;
            border: none;
        }
        .fallback {
            background: #f8f9fa;
            padding: 2rem;
            text-align: center;
            border-radius: 8px;
            border: 2px dashed #dee2e6;
        }
        .test-info {
            background: #e3f2fd;
            padding: 1rem;
            border-radius: 6px;
            margin: 1rem 0;
            border-left: 4px solid #2196f3;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            margin: 0.5rem;
            font-size: 1rem;
        }
        button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <h1>üé• YouTube Embedding Test</h1>
    
    <div class="test-container">
        <h2>Test 1: Verbessertes YouTube Embedding</h2>
        <div class="test-info">
            <strong>Video ID:</strong> dQw4w9WgXcQ (Never Gonna Give You Up)<br>
            <strong>Erweiterte Parameter:</strong> autoplay=0&rel=0&modestbranding=1&fs=1&cc_load_policy=0&iv_load_policy=3&autohide=0
        </div>
        
        <div class="video-container">
            <iframe 
                src="https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=0&rel=0&modestbranding=1&fs=1&cc_load_policy=0&iv_load_policy=3&autohide=0"
                title="YouTube Video Player (Verbessert)"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen
                loading="lazy"
                referrerpolicy="strict-origin-when-cross-origin">
            </iframe>
        </div>
    </div>

    <div class="test-container">
        <h2>Test 2: Standard YouTube Embedding</h2>
        <div class="test-info">
            <strong>Video ID:</strong> dQw4w9WgXcQ (Never Gonna Give You Up)<br>
            <strong>Standard URL:</strong> Ohne zus√§tzliche Parameter
        </div>
        
        <div class="video-container">
            <iframe 
                src="https://www.youtube.com/embed/dQw4w9WgXcQ"
                title="YouTube Video Player (Standard)"
                allowfullscreen>
            </iframe>
        </div>
    </div>

    <div class="test-container">
        <h2>Test 3: Alternativer Video-Test</h2>
        <div class="test-info">
            <strong>Video ID:</strong> jNQXAC9IVRw (Me at the zoo - erstes YouTube Video)<br>
            <strong>Grund:</strong> Historisches Video, sollte embedding erlauben
        </div>
        
        <div class="video-container">
            <iframe 
                src="https://www.youtube.com/embed/jNQXAC9IVRw?autoplay=0&rel=0&modestbranding=1&fs=1&cc_load_policy=0&iv_load_policy=3&autohide=0"
                title="YouTube Video Player (Alternativ)"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen
                loading="lazy"
                referrerpolicy="strict-origin-when-cross-origin">
            </iframe>
        </div>
    </div>

    <div class="test-container">
        <h2>Test 4: Nocookie Domain</h2>
        <div class="test-info">
            <strong>Video ID:</strong> dQw4w9WgXcQ<br>
            <strong>Domain:</strong> youtube-nocookie.com (Datenschutz-freundlicher)
        </div>
        
        <div class="video-container">
            <iframe 
                src="https://www.youtube-nocookie.com/embed/dQw4w9WgXcQ?autoplay=0&rel=0&modestbranding=1&fs=1&cc_load_policy=0&iv_load_policy=3&autohide=0"
                title="YouTube Video Player (No-Cookie)"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen
                loading="lazy"
                referrerpolicy="strict-origin-when-cross-origin">
            </iframe>
        </div>
    </div>

    <div class="test-container">
        <h2>üîß Interaktive Tests</h2>
        <p>Testen Sie verschiedene YouTube-URLs:</p>
        
        <input type="text" id="video-url" placeholder="YouTube URL eingeben..." style="width: 60%; padding: 0.75rem; border: 1px solid #ddd; border-radius: 4px; margin-right: 0.5rem;">
        <button onclick="testVideo()">Video testen</button>
        <button onclick="testWithNoCookie()">Mit NoCheck testen</button>
        
        <div id="test-result" style="margin-top: 1rem;"></div>
    </div>

    <script>
        // Funktion um Video-ID aus YouTube URL zu extrahieren
        function extractYouTubeVideoId(url) {
            const regex = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/i;
            const match = url.match(regex);
            return match ? match[1] : null;
        }

        function testVideo() {
            const url = document.getElementById('video-url').value;
            const videoId = extractYouTubeVideoId(url);
            
            if (!videoId) {
                document.getElementById('test-result').innerHTML = '<div style="color: red; padding: 1rem; background: #fee;">‚ùå Ung√ºltige YouTube URL</div>';
                return;
            }

            const embedUrl = `https://www.youtube.com/embed/${videoId}?autoplay=0&rel=0&modestbranding=1&fs=1&cc_load_policy=0&iv_load_policy=3&autohide=0`;
            
            document.getElementById('test-result').innerHTML = `
                <div style="background: #f8f9fa; padding: 1rem; border-radius: 6px; margin-top: 1rem;">
                    <strong>Video ID:</strong> ${videoId}<br>
                    <strong>Embed URL:</strong> ${embedUrl}
                    <div class="video-container" style="margin-top: 1rem;">
                        <iframe 
                            src="${embedUrl}"
                            title="Benutzer-Test Video"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            allowfullscreen
                            loading="lazy"
                            referrerpolicy="strict-origin-when-cross-origin">
                        </iframe>
                    </div>
                </div>
            `;
        }

        function testWithNoCookie() {
            const url = document.getElementById('video-url').value;
            const videoId = extractYouTubeVideoId(url);
            
            if (!videoId) {
                document.getElementById('test-result').innerHTML = '<div style="color: red; padding: 1rem; background: #fee;">‚ùå Ung√ºltige YouTube URL</div>';
                return;
            }

            const embedUrl = `https://www.youtube-nocookie.com/embed/${videoId}?autoplay=0&rel=0&modestbranding=1&fs=1&cc_load_policy=0&iv_load_policy=3&autohide=0`;
            
            document.getElementById('test-result').innerHTML = `
                <div style="background: #e8f5e8; padding: 1rem; border-radius: 6px; margin-top: 1rem;">
                    <strong>Video ID:</strong> ${videoId}<br>
                    <strong>No-Cookie Embed URL:</strong> ${embedUrl}
                    <div class="video-container" style="margin-top: 1rem;">
                        <iframe 
                            src="${embedUrl}"
                            title="Benutzer-Test Video (No-Cookie)"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            allowfullscreen
                            loading="lazy"
                            referrerpolicy="strict-origin-when-cross-origin">
                        </iframe>
                    </div>
                </div>
            `;
        }

        // Auto-Tests nach dem Laden
        window.addEventListener('load', function() {
            console.log('üé• YouTube Embedding Tests geladen');
            
            // Zeige Fehlermeldungen f√ºr nicht ladbare Videos
            document.querySelectorAll('iframe').forEach((iframe, index) => {
                iframe.onerror = function() {
                    console.log(`‚ùå Iframe ${index + 1} konnte nicht geladen werden`);
                };
                
                iframe.onload = function() {
                    console.log(`‚úÖ Iframe ${index + 1} erfolgreich geladen`);
                };
            });
        });
    </script>
</body>
</html>
